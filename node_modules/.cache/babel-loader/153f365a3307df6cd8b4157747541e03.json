{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar ClickMode_1 = require(\"../../Enums/Modes/ClickMode\");\n\nvar HoverMode_1 = require(\"../../Enums/Modes/HoverMode\");\n\nvar OutMode_1 = require(\"../../Enums/OutMode\");\n\nvar Utils_1 = require(\"../Utils/Utils\");\n\nvar DivMode_1 = require(\"../../Enums/Modes/DivMode\");\n\nvar Constants_1 = require(\"../Utils/Constants\");\n\nvar Repulser = function () {\n  function Repulser(container, particle) {\n    this.container = container;\n    this.particle = particle;\n  }\n\n  Repulser.prototype.repulse = function () {\n    var container = this.container;\n    var options = container.options;\n    var hoverEnabled = options.interactivity.events.onHover.enable;\n    var clickEnabled = options.interactivity.events.onClick.enable;\n    var mouseMoveStatus = container.interactivity.status === Constants_1.Constants.mouseMoveEvent;\n    var hoverMode = options.interactivity.events.onHover.mode;\n    var clickMode = options.interactivity.events.onClick.mode;\n    var divMode = options.interactivity.events.onDiv.mode;\n\n    if (mouseMoveStatus && hoverEnabled && Utils_1.Utils.isInArray(HoverMode_1.HoverMode.repulse, hoverMode)) {\n      this.hoverRepulse();\n    } else if (clickEnabled && Utils_1.Utils.isInArray(ClickMode_1.ClickMode.repulse, clickMode)) {\n      this.clickRepulse();\n    } else if (options.interactivity.events.onDiv.enable && Utils_1.Utils.isInArray(DivMode_1.DivMode.repulse, divMode)) {\n      this.divRepulse();\n    }\n  };\n\n  Repulser.prototype.divRepulse = function () {\n    var container = this.container;\n    var options = container.options;\n    var particle = this.particle;\n    var elem = document.getElementById(options.interactivity.events.onDiv.elementId);\n    var pos = {\n      x: elem.offsetLeft + elem.offsetWidth / 2,\n      y: elem.offsetTop + elem.offsetHeight / 2\n    };\n    var divWidth = elem.offsetWidth / 2;\n\n    if (container.retina.isRetina) {\n      pos.x *= container.retina.pxRatio;\n      pos.y *= container.retina.pxRatio;\n      divWidth *= container.retina.pxRatio;\n    }\n\n    var dxDiv = particle.position.x - pos.x;\n    var dyDiv = particle.position.y - pos.y;\n    var distDiv = Math.sqrt(dxDiv * dxDiv + dyDiv * dyDiv);\n    var normVec = {\n      x: dxDiv / distDiv,\n      y: dyDiv / distDiv\n    };\n    var repulseRadius = divWidth;\n    var velocity = 100;\n    var repulseFactor = Utils_1.Utils.clamp((-Math.pow(distDiv / repulseRadius, 4) + 1) * velocity, 0, 50);\n    this.particle.position.x += normVec.x * repulseFactor;\n    this.particle.position.y += normVec.y * repulseFactor;\n  };\n\n  Repulser.prototype.clickRepulse = function () {\n    var container = this.container;\n    var particle = this.particle;\n\n    if (!container.repulse.finish) {\n      if (!container.repulse.count) {\n        container.repulse.count = 0;\n      }\n\n      container.repulse.count++;\n\n      if (container.repulse.count === container.particles.count) {\n        container.repulse.finish = true;\n      }\n    }\n\n    if (container.repulse.clicking) {\n      var repulseDistance = container.retina.repulseModeDistance;\n      var repulseRadius = Math.pow(repulseDistance / 6, 3);\n      var mouseClickPos = container.interactivity.mouse.clickPosition || {\n        x: 0,\n        y: 0\n      };\n      var dx = mouseClickPos.x - particle.position.x;\n      var dy = mouseClickPos.y - particle.position.y;\n      var d = dx * dx + dy * dy;\n      var force = -repulseRadius / d;\n\n      if (d <= repulseRadius) {\n        this.processRepulse(dx, dy, force);\n      }\n    } else if (container.repulse.clicking === false) {\n      particle.velocity.horizontal = particle.initialVelocity.horizontal;\n      particle.velocity.vertical = particle.initialVelocity.vertical;\n    }\n  };\n\n  Repulser.prototype.hoverRepulse = function () {\n    var container = this.container;\n    var options = container.options;\n    var particle = this.particle;\n    var mousePos = container.interactivity.mouse.position || {\n      x: 0,\n      y: 0\n    };\n    var dxMouse = particle.position.x - mousePos.x;\n    var dyMouse = particle.position.y - mousePos.y;\n    var distMouse = Math.sqrt(dxMouse * dxMouse + dyMouse * dyMouse);\n    var normVec = {\n      x: dxMouse / distMouse,\n      y: dyMouse / distMouse\n    };\n    var repulseRadius = container.retina.repulseModeDistance;\n    var velocity = 100;\n    var repulseFactor = Utils_1.Utils.clamp((1 - Math.pow(distMouse / repulseRadius, 2)) * velocity, 0, 50);\n    var pos = {\n      x: particle.position.x + normVec.x * repulseFactor,\n      y: particle.position.y + normVec.y * repulseFactor\n    };\n    var outMode = options.particles.move.outMode;\n\n    if (outMode === OutMode_1.OutMode.bounce || outMode === OutMode_1.OutMode.bounceVertical || outMode === OutMode_1.OutMode.bounceHorizontal) {\n      var isInside = {\n        horizontal: pos.x - particle.radius > 0 && pos.x + particle.radius < container.canvas.dimension.width,\n        vertical: pos.y - particle.radius > 0 && pos.y + particle.radius < container.canvas.dimension.height\n      };\n\n      if (outMode === OutMode_1.OutMode.bounceVertical || isInside.horizontal) {\n        particle.position.x = pos.x;\n      }\n\n      if (outMode === OutMode_1.OutMode.bounceHorizontal || isInside.vertical) {\n        particle.position.y = pos.y;\n      }\n    } else {\n      particle.position.x = pos.x;\n      particle.position.y = pos.y;\n    }\n  };\n\n  Repulser.prototype.processRepulse = function (dx, dy, force) {\n    var container = this.container;\n    var options = container.options;\n    var particle = this.particle;\n    var f = Math.atan2(dy, dx);\n    particle.velocity.horizontal = force * Math.cos(f);\n    particle.velocity.vertical = force * Math.sin(f);\n    var outMode = options.particles.move.outMode;\n\n    if (outMode === OutMode_1.OutMode.bounce || outMode === OutMode_1.OutMode.bounceHorizontal || outMode === OutMode_1.OutMode.bounceVertical) {\n      var pos = {\n        x: particle.position.x + particle.velocity.horizontal,\n        y: particle.position.y + particle.velocity.vertical\n      };\n\n      if (outMode !== OutMode_1.OutMode.bounceVertical) {\n        if (pos.x + particle.radius > container.canvas.dimension.width || pos.x - particle.radius < 0) {\n          particle.velocity.horizontal = -particle.velocity.horizontal;\n        }\n      }\n\n      if (outMode !== OutMode_1.OutMode.bounceHorizontal) {\n        if (pos.y + particle.radius > container.canvas.dimension.height || pos.y - particle.radius < 0) {\n          particle.velocity.vertical = -particle.velocity.vertical;\n        }\n      }\n    }\n  };\n\n  return Repulser;\n}();\n\nexports.Repulser = Repulser;","map":{"version":3,"sources":["C:/Users/Sheetal/Desktop/facerecognition/node_modules/tsparticles/dist/Classes/Particle/Repulser.js"],"names":["Object","defineProperty","exports","value","ClickMode_1","require","HoverMode_1","OutMode_1","Utils_1","DivMode_1","Constants_1","Repulser","container","particle","prototype","repulse","options","hoverEnabled","interactivity","events","onHover","enable","clickEnabled","onClick","mouseMoveStatus","status","Constants","mouseMoveEvent","hoverMode","mode","clickMode","divMode","onDiv","Utils","isInArray","HoverMode","hoverRepulse","ClickMode","clickRepulse","DivMode","divRepulse","elem","document","getElementById","elementId","pos","x","offsetLeft","offsetWidth","y","offsetTop","offsetHeight","divWidth","retina","isRetina","pxRatio","dxDiv","position","dyDiv","distDiv","Math","sqrt","normVec","repulseRadius","velocity","repulseFactor","clamp","pow","finish","count","particles","clicking","repulseDistance","repulseModeDistance","mouseClickPos","mouse","clickPosition","dx","dy","d","force","processRepulse","horizontal","initialVelocity","vertical","mousePos","dxMouse","dyMouse","distMouse","outMode","move","OutMode","bounce","bounceVertical","bounceHorizontal","isInside","radius","canvas","dimension","width","height","f","atan2","cos","sin"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ClickMode_1 = require(\"../../Enums/Modes/ClickMode\");\nvar HoverMode_1 = require(\"../../Enums/Modes/HoverMode\");\nvar OutMode_1 = require(\"../../Enums/OutMode\");\nvar Utils_1 = require(\"../Utils/Utils\");\nvar DivMode_1 = require(\"../../Enums/Modes/DivMode\");\nvar Constants_1 = require(\"../Utils/Constants\");\nvar Repulser = (function () {\n    function Repulser(container, particle) {\n        this.container = container;\n        this.particle = particle;\n    }\n    Repulser.prototype.repulse = function () {\n        var container = this.container;\n        var options = container.options;\n        var hoverEnabled = options.interactivity.events.onHover.enable;\n        var clickEnabled = options.interactivity.events.onClick.enable;\n        var mouseMoveStatus = container.interactivity.status === Constants_1.Constants.mouseMoveEvent;\n        var hoverMode = options.interactivity.events.onHover.mode;\n        var clickMode = options.interactivity.events.onClick.mode;\n        var divMode = options.interactivity.events.onDiv.mode;\n        if (mouseMoveStatus && hoverEnabled && Utils_1.Utils.isInArray(HoverMode_1.HoverMode.repulse, hoverMode)) {\n            this.hoverRepulse();\n        }\n        else if (clickEnabled && Utils_1.Utils.isInArray(ClickMode_1.ClickMode.repulse, clickMode)) {\n            this.clickRepulse();\n        }\n        else if (options.interactivity.events.onDiv.enable && Utils_1.Utils.isInArray(DivMode_1.DivMode.repulse, divMode)) {\n            this.divRepulse();\n        }\n    };\n    Repulser.prototype.divRepulse = function () {\n        var container = this.container;\n        var options = container.options;\n        var particle = this.particle;\n        var elem = document.getElementById(options.interactivity.events.onDiv.elementId);\n        var pos = {\n            x: (elem.offsetLeft + elem.offsetWidth / 2),\n            y: (elem.offsetTop + elem.offsetHeight / 2),\n        };\n        var divWidth = elem.offsetWidth / 2;\n        if (container.retina.isRetina) {\n            pos.x *= container.retina.pxRatio;\n            pos.y *= container.retina.pxRatio;\n            divWidth *= container.retina.pxRatio;\n        }\n        var dxDiv = particle.position.x - pos.x;\n        var dyDiv = particle.position.y - pos.y;\n        var distDiv = Math.sqrt(dxDiv * dxDiv + dyDiv * dyDiv);\n        var normVec = {\n            x: dxDiv / distDiv,\n            y: dyDiv / distDiv,\n        };\n        var repulseRadius = divWidth;\n        var velocity = 100;\n        var repulseFactor = Utils_1.Utils.clamp((-Math.pow(distDiv / repulseRadius, 4) + 1) * velocity, 0, 50);\n        this.particle.position.x += normVec.x * repulseFactor;\n        this.particle.position.y += normVec.y * repulseFactor;\n    };\n    Repulser.prototype.clickRepulse = function () {\n        var container = this.container;\n        var particle = this.particle;\n        if (!container.repulse.finish) {\n            if (!container.repulse.count) {\n                container.repulse.count = 0;\n            }\n            container.repulse.count++;\n            if (container.repulse.count === container.particles.count) {\n                container.repulse.finish = true;\n            }\n        }\n        if (container.repulse.clicking) {\n            var repulseDistance = container.retina.repulseModeDistance;\n            var repulseRadius = Math.pow(repulseDistance / 6, 3);\n            var mouseClickPos = container.interactivity.mouse.clickPosition || { x: 0, y: 0 };\n            var dx = mouseClickPos.x - particle.position.x;\n            var dy = mouseClickPos.y - particle.position.y;\n            var d = dx * dx + dy * dy;\n            var force = -repulseRadius / d;\n            if (d <= repulseRadius) {\n                this.processRepulse(dx, dy, force);\n            }\n        }\n        else if (container.repulse.clicking === false) {\n            particle.velocity.horizontal = particle.initialVelocity.horizontal;\n            particle.velocity.vertical = particle.initialVelocity.vertical;\n        }\n    };\n    Repulser.prototype.hoverRepulse = function () {\n        var container = this.container;\n        var options = container.options;\n        var particle = this.particle;\n        var mousePos = container.interactivity.mouse.position || { x: 0, y: 0 };\n        var dxMouse = particle.position.x - mousePos.x;\n        var dyMouse = particle.position.y - mousePos.y;\n        var distMouse = Math.sqrt(dxMouse * dxMouse + dyMouse * dyMouse);\n        var normVec = { x: dxMouse / distMouse, y: dyMouse / distMouse };\n        var repulseRadius = container.retina.repulseModeDistance;\n        var velocity = 100;\n        var repulseFactor = Utils_1.Utils.clamp((1 - Math.pow(distMouse / repulseRadius, 2)) * velocity, 0, 50);\n        var pos = {\n            x: particle.position.x + normVec.x * repulseFactor,\n            y: particle.position.y + normVec.y * repulseFactor,\n        };\n        var outMode = options.particles.move.outMode;\n        if (outMode === OutMode_1.OutMode.bounce || outMode === OutMode_1.OutMode.bounceVertical || outMode === OutMode_1.OutMode.bounceHorizontal) {\n            var isInside = {\n                horizontal: pos.x - particle.radius > 0 && pos.x + particle.radius < container.canvas.dimension.width,\n                vertical: pos.y - particle.radius > 0 && pos.y + particle.radius < container.canvas.dimension.height,\n            };\n            if (outMode === OutMode_1.OutMode.bounceVertical || isInside.horizontal) {\n                particle.position.x = pos.x;\n            }\n            if (outMode === OutMode_1.OutMode.bounceHorizontal || isInside.vertical) {\n                particle.position.y = pos.y;\n            }\n        }\n        else {\n            particle.position.x = pos.x;\n            particle.position.y = pos.y;\n        }\n    };\n    Repulser.prototype.processRepulse = function (dx, dy, force) {\n        var container = this.container;\n        var options = container.options;\n        var particle = this.particle;\n        var f = Math.atan2(dy, dx);\n        particle.velocity.horizontal = force * Math.cos(f);\n        particle.velocity.vertical = force * Math.sin(f);\n        var outMode = options.particles.move.outMode;\n        if (outMode === OutMode_1.OutMode.bounce || outMode === OutMode_1.OutMode.bounceHorizontal || outMode === OutMode_1.OutMode.bounceVertical) {\n            var pos = {\n                x: particle.position.x + particle.velocity.horizontal,\n                y: particle.position.y + particle.velocity.vertical,\n            };\n            if (outMode !== OutMode_1.OutMode.bounceVertical) {\n                if (pos.x + particle.radius > container.canvas.dimension.width || pos.x - particle.radius < 0) {\n                    particle.velocity.horizontal = -particle.velocity.horizontal;\n                }\n            }\n            if (outMode !== OutMode_1.OutMode.bounceHorizontal) {\n                if (pos.y + particle.radius > container.canvas.dimension.height || pos.y - particle.radius < 0) {\n                    particle.velocity.vertical = -particle.velocity.vertical;\n                }\n            }\n        }\n    };\n    return Repulser;\n}());\nexports.Repulser = Repulser;\n"]},"metadata":{},"sourceType":"script"}